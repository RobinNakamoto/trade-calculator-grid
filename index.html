<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trade Calculator Grid</title>
    <style>
        body {
            font-family: 'Nunito', sans-serif;
        }
        .grid-container {
            display: grid;
            grid-template-columns: 100px repeat(10, 100px) 200px;
            grid-template-rows: 100px repeat(10, 100px) 100px;
            gap: 1px;
            margin: 20px;
        }
        .grid-item {
            width: 100px;
            height: 100px;
            border: 1px solid black;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: bold;
        }
        .wide-item {
            grid-column: span 2;
            width: 200px;
        }
        .input-cell {
            width: 100px;
            height: 100px;
            border: 1px solid black;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .input-cell input {
            width: 90%;
            height: 90%;
            text-align: center;
            border: none;
            background: none;
            font-size: 14px;
            font-weight: bold;
        }
        .profit {
            background-color: #b7e1cd;
        }
        .loss {
            background-color: #f84e4e;
        }
        .total {
            background-color: #ADD8E6;
        }
        .bottom-right-total {
            grid-column: 12 / 14;
            text-align: right;
        }
    </style>
</head>
<body>
    <div class="grid-container">
        <!-- Headers -->
        <div class="grid-item"></div>
        ${[...Array(10)].map((_, i) => `<div class="grid-item">${i + 1}</div>`).join('')}
        <div class="grid-item wide-item">TOT</div>

        <!-- Rows and Inputs -->
        ${[...Array(10)].map((_, row) => `
            <div class="grid-item">${row + 1}</div>
            ${[...Array(10)].map((_, col) => `
                <div class="input-cell">
                    <input type="number" step="any" data-row="${row + 1}" data-col="${col + 1}" oninput="calculateTotals()">
                </div>
            `).join('')}
            <div class="grid-item wide-item total" id="total-row-${row + 1}">0</div>
        `).join('')}

        <!-- Bottom total row -->
        <div class="grid-item bottom-right-total">TOT</div>
        <div class="grid-item wide-item total" id="total-overall">0</div>
    </div>

    <script>
        function calculateTotals() {
            let rowTotals = Array(10).fill(0);
            let overallTotal = 0;

            document.querySelectorAll('.input-cell input').forEach(input => {
                let value = parseFloat(input.value) || 0;
                let row = parseInt(input.getAttribute('data-row'));
                let col = parseInt(input.getAttribute('data-col'));

                rowTotals[row - 1] += value;
                overallTotal += value;

                if (value > 0) {
                    input.classList.add('profit');
                    input.classList.remove('loss');
                } else if (value < 0) {
                    input.classList.add('loss');
                    input.classList.remove('profit');
                } else {
                    input.classList.remove('profit', 'loss');
                }
            });

            rowTotals.forEach((total, index) => {
                document.getElementById(`total-row-${index + 1}`).textContent = total;
            });

            document.getElementById('total-overall').textContent = overallTotal;
        }
    </script>
</body>
</html>
